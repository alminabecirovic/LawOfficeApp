<Window x:Class="LawOfficeApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Law Office Management" Height="650" Width="950" Background="White">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="50"/>
            <RowDefinition Height="40"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Background="LightBlue">
            <TextBlock Text="Advokatska kancelarija" FontSize="18" FontWeight="Bold" 
                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
        </Border>

        <StackPanel Grid.Row="1" Orientation="Horizontal" Background="LightGray">
            <Button Content="Kontrolna tabla" Width="110" Margin="5" Command="{Binding NavigateCommand}" CommandParameter="Dashboard"/>
            <Button Content="Upravljanje klijentima" Width="130" Margin="5" Command="{Binding NavigateCommand}" CommandParameter="Clients"/>
            <Button Content="Profil slucaja" Width="110" Margin="5" Command="{Binding NavigateCommand}" CommandParameter="Cases"/>
            <Button Content="Racun" Width="110" Margin="5" Command="{Binding NavigateCommand}" CommandParameter="Invoicing"/>
            
        </StackPanel>

        <ScrollViewer Grid.Row="2">
            <StackPanel Margin="15">

                <!-- DASHBOARD -->
                <StackPanel x:Name="DashboardTab" Visibility="Visible">
                    <TextBlock Text="Kontolna tabla - Aktivni slucajevi" FontSize="16" FontWeight="Bold" Margin="0,5,0,10"/>

                    <TextBlock Text="Aktivni slucajevi:" FontWeight="Bold" Margin="0,5,0,5"/>
                    <DataGrid ItemsSource="{Binding Cases}" AutoGenerateColumns="False" Height="120">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Naslov slucaja" Binding="{Binding CaseTitle}" Width="200"/>
                            <DataGridTextColumn Header="Klijent" Binding="{Binding Client.GetFullName}" Width="150"/>
                            <DataGridTextColumn Header="Advokat" Binding="{Binding Lawyer.GetFullName}" Width="150"/>
                            <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>

                    <TextBlock Text="Nadolazeci rokovi:" FontWeight="Bold" Margin="0,15,0,5"/>
                    <DataGrid ItemsSource="{Binding Cases}" AutoGenerateColumns="False" Height="100">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Slucaj" Binding="{Binding CaseTitle}" Width="250"/>
                            <DataGridTextColumn Header="Rok" Binding="{Binding DeadlineDate, StringFormat=d}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>

                    <TextBlock Text="Nedavni dokumenti:" FontWeight="Bold" Margin="0,15,0,5"/>
                    <DataGrid ItemsSource="{Binding Documents}" AutoGenerateColumns="False" Height="100">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Dokument" Binding="{Binding Title}" Width="300"/>
                            <DataGridTextColumn Header="Tip" Binding="{Binding DocumentType}" Width="150"/>
                            <DataGridTextColumn Header="Datum" Binding="{Binding CreatedDate, StringFormat=d}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>

                <!-- CLIENT MANAGEMENT -->
                <StackPanel x:Name="ClientsTab" Visibility="Collapsed">
                    <TextBlock Text="Upravljanje klijentima" FontSize="16" FontWeight="Bold" Margin="0,5,0,10"/>

                    <GroupBox Header="Dodaj novog klijenta">
                        <StackPanel Margin="10">
                            <TextBlock Text="Ime:"/>
                            <TextBox Name="TxtClientFirstName" Margin="0,5,0,10"/>
                            <TextBlock Text="Prezime:"/>
                            <TextBox Name="TxtClientLastName" Margin="0,5,0,10"/>
                            <TextBlock Text="Email:"/>
                            <TextBox Name="TxtClientEmail" Margin="0,5,0,10"/>
                            <TextBlock Text="Telefon:"/>
                            <TextBox Name="TxtClientPhone" Margin="0,5,0,10"/>
                            <TextBlock Text="Beleska:"/>
                            <TextBox Name="TxtClientOrganization" Margin="0,5,0,10"/>
                            <Button Content="Dodaj klijenta" Width="100" Click="BtnAddClient_Click"/>
                        </StackPanel>
                    </GroupBox>

                    <GroupBox Header="Azuriraj informacije o klijentu" Margin="0,10,0,0">
                        <StackPanel Margin="10">
                            <TextBlock Text="Client ID:"/>
                            <TextBox Name="TxtUpdateClientId" Margin="0,5,0,10"/>
                            <TextBlock Text="Novi email:"/>
                            <TextBox Name="TxtUpdateEmail" Margin="0,5,0,10"/>
                            <TextBlock Text="Novi telefon:"/>
                            <TextBox Name="TxtUpdatePhone" Margin="0,5,0,10"/>
                            <Button Content="Azuriraj" Width="120" Click="BtnUpdateClient_Click"/>
                        </StackPanel>
                    </GroupBox>

                    <TextBlock Text="Svi klijenti - Izaberite istoriju slucaja:" FontWeight="Bold" Margin="0,10,0,5"/>
                    <DataGrid Name="DataGridClients" ItemsSource="{Binding Clients}" AutoGenerateColumns="False" Height="150" SelectionChanged="DataGridClients_SelectionChanged">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="40"/>
                            <DataGridTextColumn Header="Ime" Binding="{Binding GetFullName}" Width="150"/>
                            <DataGridTextColumn Header="Email" Binding="{Binding Email}" Width="180"/>
                            <DataGridTextColumn Header="Telefon" Binding="{Binding PhoneNumber}" Width="120"/>
                            <DataGridTextColumn Header="Beleska" Binding="{Binding Notes}" Width="120"/>
                            <DataGridTextColumn Header="Svi slucajevi" Binding="{Binding Cases.Count}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>

                    <TextBlock Text="Istorija slucaja izabranog klijenta:" FontWeight="Bold" Margin="0,10,0,5"/>
                    <DataGrid Name="DataGridClientCases" Height="120" AutoGenerateColumns="False">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Naziv slucaja" Binding="{Binding CaseTitle}" Width="250"/>
                            <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="100"/>
                            <DataGridTextColumn Header="Otvoren" Binding="{Binding OpeningDate, StringFormat=d}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>

                <!-- CASE PROFILE -->
                <StackPanel x:Name="CasesTab" Visibility="Collapsed">
                    <TextBlock Text="Profil slucaja - Detaljan prikaz" FontSize="16" FontWeight="Bold" Margin="0,5,0,10"/>

                    <GroupBox Header="Dodaj novi slucaj">
                        <StackPanel Margin="10">
                            <TextBlock Text="Naslov slucaja:"/>
                            <TextBox Name="TxtCaseTitle" Margin="0,5,0,10"/>
                            <TextBlock Text="Opis:"/>
                            <TextBox Name="TxtCaseDesc" Margin="0,5,0,10" Height="50" TextWrapping="Wrap"/>
                            <TextBlock Text="Izabrani klijent:"/>
                            <ComboBox Name="CmbCaseClient" Margin="0,5,0,10" 
                                      ItemsSource="{Binding Clients}" DisplayMemberPath="GetFullName" SelectedValuePath="Id"/>
                            <TextBlock Text="Izabrani lekar:"/>
                            <ComboBox Name="CmbCaseLawyer" Margin="0,5,0,10" 
                                      ItemsSource="{Binding Lawyers}" DisplayMemberPath="GetFullName" SelectedValuePath="Id"/>
                            <TextBlock Text="Rok:"/>
                            <DatePicker Name="TxtCaseDeadline" Margin="0,5,0,10"/>
                            <Button Content="Add Case" Width="100" Click="BtnAddCase_Click"/>
                        </StackPanel>
                    </GroupBox>

                    <TextBlock Text="Svi slucajevi - Izaberi za detalje:" FontWeight="Bold" Margin="0,10,0,5"/>
                    <DataGrid Name="DataGridCases" ItemsSource="{Binding Cases}" AutoGenerateColumns="False" Height="120" SelectionChanged="DataGridCases_SelectionChanged">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="30"/>
                            <DataGridTextColumn Header="Naslov" Binding="{Binding CaseTitle}" Width="180"/>
                            <DataGridTextColumn Header="Klijent" Binding="{Binding Client.GetFullName}" Width="120"/>
                            <DataGridTextColumn Header="Advokat" Binding="{Binding Lawyer.GetFullName}" Width="120"/>
                            <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="80"/>
                            <DataGridTextColumn Header="Rok" Binding="{Binding DeadlineDate, StringFormat=d}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>

                    <GroupBox Header="Izabrani slucaj - Detalji profila" Margin="0,10,0,0">
                        <StackPanel Margin="10">
                            <TextBlock Name="TxtCaseDetails" Text="Izaberi slucaj za prikaz detalja." TextWrapping="Wrap"/>

                            <TextBlock Text="Case Documentation:" FontWeight="Bold" Margin="0,10,0,5"/>
                            <DataGrid Name="DataGridCaseDocuments" Height="100" AutoGenerateColumns="False">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="Dokument" Binding="{Binding Title}" Width="250"/>
                                    <DataGridTextColumn Header="Tip" Binding="{Binding DocumentType}" Width="150"/>
                                    <DataGridTextColumn Header="Datum" Binding="{Binding CreatedDate, StringFormat=d}" Width="*"/>
                                </DataGrid.Columns>
                            </DataGrid>

                            <TextBlock Text="Istorija dokumentacije:" FontWeight="Bold" Margin="0,10,0,5"/>
                            <TextBlock Text="• Case opened on [Opening Date]" Margin="5"/>
                            <TextBlock Text="• Last updated: [System Date]" Margin="5"/>
                            <TextBlock Text="• Status: Active/In Progress" Margin="5"/>
                        </StackPanel>
                    </GroupBox>
                </StackPanel>

                <!-- INVOICING -->
                <StackPanel x:Name="InvoicesTab" Visibility="Collapsed">
                    <TextBlock Text="Invoicing - Create &amp; Track" FontSize="16" FontWeight="Bold" Margin="0,5,0,10"/>

                    <GroupBox Header="Kreiraj novi racun">
                        <StackPanel Margin="10">
                            <TextBlock Text="Broj racuna:"/>
                            <TextBox Name="TxtInvoiceNumber" Margin="0,5,0,10"/>
                            <TextBlock Text="Iznos:"/>
                            <TextBox Name="TxtInvoiceAmount" Margin="0,5,0,10"/>
                            <TextBlock Text="Izaberi slucaj:"/>
                            <ComboBox Name="CmbInvoiceCase" Margin="0,5,0,10" 
                                      ItemsSource="{Binding Cases}" DisplayMemberPath="CaseTitle" SelectedValuePath="Id"/>
                            <Button Content="Kreiraj racun" Width="120" Click="BtnAddInvoice_Click"/>
                        </StackPanel>
                    </GroupBox>

                    <TextBlock Text="Svi racuni - Pracenje uplata:" FontWeight="Bold" Margin="0,10,0,5"/>
                    <DataGrid ItemsSource="{Binding Invoices}" AutoGenerateColumns="False" Height="250">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Racun" Binding="{Binding InvoiceNumber}" Width="100"/>
                            <DataGridTextColumn Header="Iznos" Binding="{Binding Amount, StringFormat=c}" Width="100"/>
                            <DataGridTextColumn Header="Datum" Binding="{Binding IssueDate, StringFormat=d}" Width="100"/>
                            <DataGridCheckBoxColumn Header="Placeno" Binding="{Binding IsPaid}" Width="60"/>
                            <DataGridTextColumn Header="Datum placanja" Binding="{Binding PaymentDate, StringFormat=d}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>

            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>